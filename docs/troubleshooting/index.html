<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-troubleshooting">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">故障排除 | Create React App</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://create-react-app.dev/cra-docs/img/logo-og.png"><meta data-rh="true" name="twitter:image" content="https://create-react-app.dev/cra-docs/img/logo-og.png"><meta data-rh="true" property="og:url" content="https://create-react-app.dev/cra-docs/docs/troubleshooting"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="故障排除 | Create React App"><meta data-rh="true" name="description" content="npm start doesn’t detect changes"><meta data-rh="true" property="og:description" content="npm start doesn’t detect changes"><link data-rh="true" rel="icon" href="/cra-docs/img/favicon/favicon.ico"><link data-rh="true" rel="canonical" href="https://create-react-app.dev/cra-docs/docs/troubleshooting"><link data-rh="true" rel="alternate" href="https://create-react-app.dev/cra-docs/docs/troubleshooting" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://create-react-app.dev/cra-docs/docs/troubleshooting" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://AUJYIQ70HN-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Create React App" href="/cra-docs/opensearch.xml"><link rel="stylesheet" href="/cra-docs/assets/css/styles.111506e4.css">
<link rel="preload" href="/cra-docs/assets/js/runtime~main.b4cba955.js" as="script">
<link rel="preload" href="/cra-docs/assets/js/main.96ab74de.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_G6ar" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cra-docs/"><div class="navbar__logo"><img src="/cra-docs/img/logo.svg" alt="Create React App Logo" class="themedImage_RWGG themedImage--light_riBm"><img src="/cra-docs/img/logo.svg" alt="Create React App Logo" class="themedImage_RWGG themedImage--dark_Dsi0"></div><b class="navbar__title text--truncate">Create React App</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/cra-docs/docs/getting-started">文档</a><a href="https://reactjs.org/community/support.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">帮助<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.github.com/facebook/create-react-app" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_OLSw colorModeToggle_Hg9V"><button class="clean-btn toggleButton_wYmb toggleButtonDisabled_vaDU" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_Sxwe"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_Yem1"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_xrOJ"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_UyTV docsWrapper_BqXd"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_z1FD" type="button"></button><div class="docPage_pOTq"><aside class="theme-doc-sidebar-container docSidebarContainer_aIKW"><div class="sidebarViewport_DwR9"><div class="sidebar_vJCc"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_qiME"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cra-docs/docs/documentation-intro">欢迎</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cra-docs/docs/getting-started">开始</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cra-docs/docs/deployment">开发</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cra-docs/docs/adding-a-stylesheet">样式和资产</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cra-docs/docs/installing-a-dependency">构建应用程序</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cra-docs/docs/running-tests">测试</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cra-docs/docs/proxying-api-requests-in-development">后端集成</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cra-docs/docs/custom-templates">高级用法</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/cra-docs/docs/troubleshooting">支持</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cra-docs/docs/troubleshooting">故障排除</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_fv3b"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_YAwJ"><div class="docItemContainer_Rv5Z"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_zCmv" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/cra-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_JFrk"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">支持</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">故障排除</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_O_Qc theme-doc-toc-mobile tocMobile_tjDr"><button type="button" class="clean-btn tocCollapsibleButton_htYj">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>故障排除</h1></header><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="npm-start-doesnt-detect-changes"><code>npm start</code> doesn’t detect changes<a href="#npm-start-doesnt-detect-changes" class="hash-link" aria-label="npm-start-doesnt-detect-changes的直接链接" title="npm-start-doesnt-detect-changes的直接链接">​</a></h2><p>When you save a file while <code>npm start</code> is running, the browser should refresh with the updated code.</p><p>If this doesn’t happen, try one of the following workarounds:</p><ul><li>Check that your file is imported by your entrypoint. TypeScript will show errors on any of your source files, but webpack only reloads your files if they are directly or indirectly imported by one of your entrypoints.</li><li>If your project is in a Dropbox folder, try moving it out.</li><li>If the watcher doesn’t see a file called <code>index.js</code> and you’re referencing it by the folder name, you <a href="https://github.com/facebook/create-react-app/issues/1164" target="_blank" rel="noopener noreferrer">need to restart the watcher</a> due to a webpack bug.</li><li>Some editors like Vim and IntelliJ have a “safe write” feature that currently breaks the watcher. You will need to disable it. Follow the instructions in <a href="https://webpack.js.org/guides/development/#adjusting-your-text-editor" target="_blank" rel="noopener noreferrer">“Adjusting Your Text Editor”</a>.</li><li>If your project path contains parentheses, try moving the project to a path without them. This is caused by a <a href="https://github.com/webpack/watchpack/issues/42" target="_blank" rel="noopener noreferrer">webpack watcher bug</a>.</li><li>On Linux and macOS, you might need to <a href="https://github.com/webpack/docs/wiki/troubleshooting#not-enough-watchers" target="_blank" rel="noopener noreferrer">tweak system settings</a> to allow more watchers.</li><li>If the project runs inside a virtual machine such as (a Vagrant provisioned) VirtualBox, create an <code>.env</code> file in your project directory if it doesn’t exist, and add <code>CHOKIDAR_USEPOLLING=true</code> to it. This ensures that the next time you run <code>npm start</code>, the watcher uses the polling mode, as necessary inside a VM.</li></ul><p>If none of these solutions help please leave a comment <a href="https://github.com/facebook/create-react-app/issues/659" target="_blank" rel="noopener noreferrer">in this thread</a>.</p><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="npm-start-fail-due-to-watch-error"><code>npm start</code> fail due to watch error<a href="#npm-start-fail-due-to-watch-error" class="hash-link" aria-label="npm-start-fail-due-to-watch-error的直接链接" title="npm-start-fail-due-to-watch-error的直接链接">​</a></h2><p>If you are using a Linux operating system and see an error similar to: <code>ENOSPC: System limit for number of file watchers reached</code>, you can fix the issue by increasing the <code>fs.inotify.max_user_watches</code> setting of your operating system.</p><p>If you are running Debian, RedHat, or another similar Linux distribution, run the following in a terminal:</p><div class="language-sh codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-sh codeBlock_TAPP thin-scrollbar"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#bfc7d5"><span class="token plain">echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf &amp;&amp; sudo sysctl -p</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you are running ArchLinux, run the following command instead:</p><div class="language-sh codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-sh codeBlock_TAPP thin-scrollbar"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#bfc7d5"><span class="token plain">echo fs.inotify.max_user_watches=524288 | sudo tee /etc/sysctl.d/40-max-user-watches.conf &amp;&amp; sudo sysctl --system</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then paste it in your terminal and press on enter to run it. You could find more information <a href="https://github.com/guard/listen/wiki/Increasing-the-amount-of-inotify-watchers#the-technical-details" target="_blank" rel="noopener noreferrer">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="npm-test-hangs-or-crashes-on-macos-sierra"><code>npm test</code> hangs or crashes on macOS Sierra<a href="#npm-test-hangs-or-crashes-on-macos-sierra" class="hash-link" aria-label="npm-test-hangs-or-crashes-on-macos-sierra的直接链接" title="npm-test-hangs-or-crashes-on-macos-sierra的直接链接">​</a></h2><p>If you run <code>npm test</code> and the console gets stuck after printing <code>react-scripts test</code> to the console there might be a problem with your <a href="https://facebook.github.io/watchman/" target="_blank" rel="noopener noreferrer">Watchman</a> installation as described in <a href="https://github.com/facebook/create-react-app/issues/713" target="_blank" rel="noopener noreferrer">facebook/create-react-app#713</a>.</p><p>We recommend deleting <code>node_modules</code> in your project and running <code>npm install</code> (or <code>yarn</code> if you use it) first. If it doesn&#x27;t help, you can try one of the numerous workarounds mentioned in these issues:</p><ul><li><a href="https://github.com/facebook/jest/issues/1767" target="_blank" rel="noopener noreferrer">facebook/jest#1767</a></li><li><a href="https://github.com/facebook/watchman/issues/358" target="_blank" rel="noopener noreferrer">facebook/watchman#358</a></li><li><a href="https://github.com/ember-cli/ember-cli/issues/6259" target="_blank" rel="noopener noreferrer">ember-cli/ember-cli#6259</a></li></ul><p>It is reported that installing Watchman 4.7.0 or newer fixes the issue. If you use <a href="https://brew.sh/" target="_blank" rel="noopener noreferrer">Homebrew</a>, you can run these commands to update it:</p><div class="codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-text codeBlock_TAPP thin-scrollbar"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#bfc7d5"><span class="token plain">watchman shutdown-server</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">brew update</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">brew reinstall watchman</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can find <a href="https://facebook.github.io/watchman/docs/install.html#build-install" target="_blank" rel="noopener noreferrer">other installation methods</a> on the Watchman documentation page.</p><p>If this still doesn’t help, try running <code>launchctl unload -F ~/Library/LaunchAgents/com.github.facebook.watchman.plist</code>.</p><p>There are also reports that <em>uninstalling</em> Watchman fixes the issue. So if nothing else helps, remove it from your system and try again.</p><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="npm-run-build-exits-too-early"><code>npm run build</code> exits too early<a href="#npm-run-build-exits-too-early" class="hash-link" aria-label="npm-run-build-exits-too-early的直接链接" title="npm-run-build-exits-too-early的直接链接">​</a></h2><p>It is reported that <code>npm run build</code> can fail on machines with limited memory and no swap space, which is common in cloud environments. Even with small projects this command can increase RAM usage in your system by hundreds of megabytes, so if you have less than 1 GB of available memory your build is likely to fail with the following message:</p><blockquote><p>The build failed because the process exited too early. This probably means the system ran out of memory or someone called <code>kill -9</code> on the process.</p></blockquote><p>If you are completely sure that you didn&#x27;t terminate the process, consider <a href="https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04" target="_blank" rel="noopener noreferrer">adding some swap space</a> to the machine you’re building on, or build the project locally.</p><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="npm-run-build-fails-on-heroku"><code>npm run build</code> fails on Heroku<a href="#npm-run-build-fails-on-heroku" class="hash-link" aria-label="npm-run-build-fails-on-heroku的直接链接" title="npm-run-build-fails-on-heroku的直接链接">​</a></h2><p>This may be a problem with case sensitive filenames.
Please refer to <a href="/cra-docs/docs/deployment#resolving-heroku-deployment-errors">this section</a>.</p><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="momentjs-locales-are-missing">Moment.js locales are missing<a href="#momentjs-locales-are-missing" class="hash-link" aria-label="Moment.js locales are missing的直接链接" title="Moment.js locales are missing的直接链接">​</a></h2><p>If you use a <a href="https://momentjs.com/" target="_blank" rel="noopener noreferrer">Moment.js</a>, you might notice that only the English locale is available by default. This is because the locale files are large, and you probably only need a subset of <a href="https://momentjs.com/#multiple-locale-support" target="_blank" rel="noopener noreferrer">all the locales provided by Moment.js</a>.</p><p>To add a specific Moment.js locale to your bundle, you need to import it explicitly.</p><p>For example:</p><div class="language-js codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-js codeBlock_TAPP thin-scrollbar"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports">moment</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;moment&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;moment/locale/fr&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you are importing multiple locales this way, you can later switch between them by calling <code>moment.locale()</code> with the locale name:</p><div class="language-js codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-js codeBlock_TAPP thin-scrollbar"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports">moment</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;moment&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;moment/locale/fr&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;moment/locale/es&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">moment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">locale</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;fr&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will only work for locales that have been explicitly imported before.</p><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="npm-run-build-fails-to-minify"><code>npm run build</code> fails to minify<a href="#npm-run-build-fails-to-minify" class="hash-link" aria-label="npm-run-build-fails-to-minify的直接链接" title="npm-run-build-fails-to-minify的直接链接">​</a></h2><p>Before <code>react-scripts@2.0.0</code>, this problem was caused by third party <code>node_modules</code> using modern JavaScript features because the minifier couldn&#x27;t handle them during the build. This has been solved by compiling standard modern JavaScript features inside <code>node_modules</code> in <code>react-scripts@2.0.0</code> and higher.</p><p>If you&#x27;re seeing this error, you&#x27;re likely using an old version of <code>react-scripts</code>. You can either fix it by avoiding a dependency that uses modern syntax, or by upgrading to <code>react-scripts@&gt;=2.0.0</code> and following the migration instructions in the changelog.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/wdk-docs/cra-docs/edit/main/docusaurus/website/../docs/troubleshooting.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_UohW" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_T23F"><span class="theme-last-updated">最后<!-- -->由 <b>wohugb@aliyun.com</b> <!-- -->于 <b><time datetime="2023-07-13T08:09:52.000Z">2023年7月13日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/cra-docs/docs/alternatives-to-ejecting"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">喷射的替代方案</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_TN1Q thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#npm-start-doesnt-detect-changes" class="table-of-contents__link toc-highlight"><code>npm start</code> doesn’t detect changes</a></li><li><a href="#npm-start-fail-due-to-watch-error" class="table-of-contents__link toc-highlight"><code>npm start</code> fail due to watch error</a></li><li><a href="#npm-test-hangs-or-crashes-on-macos-sierra" class="table-of-contents__link toc-highlight"><code>npm test</code> hangs or crashes on macOS Sierra</a></li><li><a href="#npm-run-build-exits-too-early" class="table-of-contents__link toc-highlight"><code>npm run build</code> exits too early</a></li><li><a href="#npm-run-build-fails-on-heroku" class="table-of-contents__link toc-highlight"><code>npm run build</code> fails on Heroku</a></li><li><a href="#momentjs-locales-are-missing" class="table-of-contents__link toc-highlight">Moment.js locales are missing</a></li><li><a href="#npm-run-build-fails-to-minify" class="table-of-contents__link toc-highlight"><code>npm run build</code> fails to minify</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cra-docs/docs/getting-started">开始</a></li><li class="footer__item"><a href="https://reactjs.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">学习 React<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/create-react-app" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/facebook/create-react-app/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub 讨论<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/reactjs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.contributor-covenant.org/version/1/4/code-of-conduct" target="_blank" rel="noopener noreferrer" class="footer__link-item">贡献者约定<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">社交</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.github.com/facebook/create-react-app" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/cra-docs/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_RWGG themedImage--light_riBm footer__logo"><img src="/cra-docs/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_RWGG themedImage--dark_Dsi0 footer__logo"></div><div class="footer__copyright">Copyright © 2023 Facebook, Inc.</div></div></div></footer></div>
<script src="/cra-docs/assets/js/runtime~main.b4cba955.js"></script>
<script src="/cra-docs/assets/js/main.96ab74de.js"></script>
</body>
</html>